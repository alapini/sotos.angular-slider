/**
 * sotos-angular-slider - angular slider
 * @version v0.0.2
 * @author : pezouvanis sotiris 
 * Copyright (c) 30/09/2015
 */
var sotosAngularSlider=angular.module("sotos-angular-slider",["ngAnimate","sotos.tmp"]);sotosAngularSlider.directive("resize",["$window",function(n){return{scope:!0,link:function(e,i,t){{var o=angular.element(n);angular.element(i)}e.style=function(n){n=n||0;var e="100%",i=Math.round(o[0].innerHeight-n)+"px";return{height:i,width:e}},o.bind("resize",function(){e.$apply()})}}}]),sotosAngularSlider.directive("sotosSliderUpDown",["$window","$interval","$timeout","$compile",function(n,e,i,t){return{priority:99,restrict:"A,C",transclude:!0,scope:{images:"=",offsetTop:"="},templateUrl:"js/slider-up-down.html",link:function(e,o,s,l,d){var r=angular.element(o);e.showSlidesUP=1,e.countSlidesUP=1,e.countSlidesUPArray=Array(e.countSlidesUP),e.nextup=!1,e.showTheSlideUpDown=function(n){e.nextup=e.showSlidesUP>n?!1:!0,i(function(){e.showSlidesUP=n},250)};var c=function(){e.showSlidesUP===e.countSlidesUP-1||e.showTheSlideUpDown(e.showSlidesUP+1)},u=function(){e.showTheSlideUpDown(e.showSlidesUP<=1?1:e.showSlidesUP-1)};e.up=function(){e.nextup=!0,c()},e.down=function(){e.nextup=!1,u()};var a=function(n){n.deltaY>0?e.up():e.down()},g=0,h=0,p=function(n){g=n.targetTouches[0].pageY,h=0},v=function(n){h=n.targetTouches[0].pageY},w=function(n){h>50&&(g-h>70&&e.up(),-70>g-h&&e.down())},m=function(n){n=n||window.event,38==n.keyCode&&e.down(),40==n.keyCode&&e.up()};r.bind("mousewheel",a),r.bind("scroll",a),r.bind("wheel",a),r.bind("DOMMouseScroll",a),r.bind("touchstart",p),r.bind("touchmove",v),r.bind("touchend",w);var f=angular.element(n);f.bind("keydown",m),d(e,function(n,e){var i=1;angular.forEach(n,function(n){if(n.outerHTML){var o=angular.element("<div ng-class=\"{'slider-up':nextup,'slider-down':!nextup}\"  ng-if=\"showSlidesUP=="+i+'"></div>');o.append(n.outerHTML),r.children().append(t(o)(e)),i++}}),e.countSlidesUP=i,e.countSlidesUPArray=Array(e.countSlidesUP-1)})}}}]),sotosAngularSlider.directive("sotosSlider",["$window","$interval","$timeout",function(n,e,i){return{priority:0,restrict:"A,C",scope:{images:"=",offsetTop:"="},templateUrl:"js/slider.html",link:function(n,t,o){var s=angular.element(t);n.show=0,n.count=n.images.length-1,n.nextimg=!1,n.showTheSlide=function(e){i(function(){n.show=e},100)};var l=function(){n.showTheSlide(n.show===n.count?0:n.show+1)},d=function(){n.showTheSlide(0===n.show?n.count:n.show-1)},r=e(l,4e3);n.next=function(){n.nextimg=!0,e.cancel(r),l()},n.prev=function(){n.nextimg=!1,e.cancel(r),d()};var c=0,u=0,a=function(n){c=n.targetTouches[0].pageX,u=0},g=function(n){u=n.targetTouches[0].pageX},h=function(e){u>50&&(c-u>50&&n.next(),-50>c-u&&n.prev())};s.bind("touchstart",a),s.bind("touchmove",g),s.bind("touchend",h),document.onkeydown=function(e){e=e||window.event,27==e.keyCode,37==e.keyCode&&n.prev(),39==e.keyCode&&n.next(),n.$apply()}}}}]),angular.module("sotos.tmp",[]).run(["$templateCache",function(n){n.put("js/slider-up-down.html",'<div resize ng-style="style(offsetTop)"><div class="slider-up-down-controls"><div class="slider-controls-inner"><div class="slider-controls-inner-btn"><div class="btn-area" ng-repeat="i in countSlidesUPArray track by $index"><button ng-click="showTheSlideUpDown($index+1)" ng-class="{active:($index+1)==showSlidesUP}">{{$index+1}}</button></div></div></div></div></div>'),n.put("js/slider.html",'<div class="slider-main" resize ng-style="style(offsetTop)"><div class="slider-image" ng-repeat="img in images" ng-if="$index == show" ng-class="{\'slider-right\':!nextimg,\'slider-left\':nextimg}"><div class="slider-image-inner" ng-style="{\'background-image\':\'url(\'+img.url+\')\'}" ng-class="{\'show\':$index==show}"><div class="text-area" ng-if="img.title || img.description"><div class="title" ng-if="img.title" ng-bind-html="img.title"></div><div class="description" ng-if="img.description" ng-bind-html="img.description"></div></div></div></div><div class="ng-hide"><img ng-repeat="img in images" ng-src="{{ img.url }}" class="ng-hide"></div><div class="slider-controls"><button class="btn-prev" ng-show="count>0" ng-click="prev()">prev</button> <button class="btn-next" ng-show="count>0" ng-click="next()">next</button></div></div>')}]);